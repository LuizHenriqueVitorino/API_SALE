<?xml version="1.0" encoding="UTF-8"?>
<robot generator="Robot 6.1.1 (Python 3.10.12 on linux)" generated="20230928 13:19:12.036" rpa="false" schemaversion="4">
<suite id="s1" name="Login Test" source="/home/ofra/workspace/API_SALE/testes/login_test.robot">
<test id="s1-t1" name="Cenário 1: Autenticação com email e senha corretos" line="5">
<kw name="DADO que o SALE receba uma requisição POST para autenticação" library="login_keywords">
<kw name="Create Dictionary" library="BuiltIn">
<var>${HEADERS}</var>
<arg>content-type=application-json</arg>
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<msg timestamp="20230928 13:19:12.142" level="INFO">${HEADERS} = {'content-type': 'application-json'}</msg>
<status status="PASS" starttime="20230928 13:19:12.142" endtime="20230928 13:19:12.142"/>
</kw>
<kw name="Create Session" library="RequestsLibrary">
<arg>alias=${alias}</arg>
<arg>url=${localhost}:${porta}</arg>
<doc>Create Session: create a HTTP session to a server</doc>
<msg timestamp="20230928 13:19:12.143" level="INFO">Creating Session using : alias=sale_api, url=http://localhost:5000, headers={},                     cookies={}, auth=None, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<status status="PASS" starttime="20230928 13:19:12.143" endtime="20230928 13:19:12.143"/>
</kw>
<status status="PASS" starttime="20230928 13:19:12.142" endtime="20230928 13:19:12.143"/>
</kw>
<kw name="QUANDO o sistema validar as credenciais" library="login_keywords">
<kw name="Login e Validar token" library="login_keywords">
<var>${RESPONSE}</var>
<arg>email@correto.com</arg>
<arg>senha_correta</arg>
<kw name="Create Dictionary" library="BuiltIn">
<var>${Body}</var>
<arg>username=${username}</arg>
<arg>password=${password}</arg>
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<msg timestamp="20230928 13:19:12.144" level="INFO">${Body} = {'username': 'email@correto.com', 'password': 'senha_correta'}</msg>
<status status="PASS" starttime="20230928 13:19:12.144" endtime="20230928 13:19:12.144"/>
</kw>
<kw name="Create Session" library="RequestsLibrary">
<arg>alias=${alias}</arg>
<arg>url=${localhost}:${porta}</arg>
<doc>Create Session: create a HTTP session to a server</doc>
<msg timestamp="20230928 13:19:12.145" level="INFO">Creating Session using : alias=sale_api, url=http://localhost:5000, headers={},                     cookies={}, auth=None, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<status status="PASS" starttime="20230928 13:19:12.144" endtime="20230928 13:19:12.145"/>
</kw>
<kw name="POST On Session" library="RequestsLibrary">
<var>${RESPONSE}</var>
<arg>alias=${alias}</arg>
<arg>url=/auth/login</arg>
<arg>json=${Body}</arg>
<doc>Sends a POST request on a previously created HTTP Session.</doc>
<msg timestamp="20230928 13:19:12.149" level="INFO">POST Request : url=http://localhost:5000/auth/login 
 path_url=/auth/login 
 headers={'User-Agent': 'python-requests/2.25.1', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '62', 'Content-Type': 'application/json'} 
 body=b'{"username": "email@correto.com", "password": "senha_correta"}' 
 </msg>
<msg timestamp="20230928 13:19:12.149" level="INFO">POST Response : url=http://localhost:5000/auth/login 
 status=200, reason=OK 
 headers={'Server': 'Werkzeug/2.3.7 Python/3.10.12', 'Date': 'Thu, 28 Sep 2023 16:19:12 GMT', 'Content-Type': 'application/json', 'Content-Length': '277', 'Connection': 'close'} 
 body={
  "created": "Thu, 28 Sep 2023 13:19:12 GMT",
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c",
  "ttl": 1209600,
  "userId": "646e6ce286a5a138a515e0b6"
}
 
 </msg>
<msg timestamp="20230928 13:19:12.150" level="INFO">${RESPONSE} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20230928 13:19:12.145" endtime="20230928 13:19:12.150"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${Body}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 13:19:12.150" level="INFO">{'username': 'email@correto.com', 'password': 'senha_correta'}</msg>
<status status="PASS" starttime="20230928 13:19:12.150" endtime="20230928 13:19:12.150"/>
</kw>
<return>
<value>${RESPONSE}</value>
<status status="PASS" starttime="20230928 13:19:12.150" endtime="20230928 13:19:12.150"/>
</return>
<msg timestamp="20230928 13:19:12.150" level="INFO">${RESPONSE} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20230928 13:19:12.144" endtime="20230928 13:19:12.150"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>Resposta Retornada: ${\n}${RESPONSE.text}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 13:19:12.151" level="INFO">Resposta Retornada: 
{
  "created": "Thu, 28 Sep 2023 13:19:12 GMT",
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c",
  "ttl": 1209600,
  "userId": "646e6ce286a5a138a515e0b6"
}
</msg>
<status status="PASS" starttime="20230928 13:19:12.151" endtime="20230928 13:19:12.151"/>
</kw>
<return>
<value>${RESPONSE}</value>
<status status="PASS" starttime="20230928 13:19:12.151" endtime="20230928 13:19:12.151"/>
</return>
<status status="PASS" starttime="20230928 13:19:12.143" endtime="20230928 13:19:12.151"/>
</kw>
<kw name="ENTÃO o SALE deve enviar um JSON de resposta contendo o token para o usuário" library="login_keywords">
<kw name="QUANDO o sistema validar as credenciais" library="login_keywords">
<var>${RESPONSE}</var>
<kw name="Login e Validar token" library="login_keywords">
<var>${RESPONSE}</var>
<arg>email@correto.com</arg>
<arg>senha_correta</arg>
<kw name="Create Dictionary" library="BuiltIn">
<var>${Body}</var>
<arg>username=${username}</arg>
<arg>password=${password}</arg>
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<msg timestamp="20230928 13:19:12.153" level="INFO">${Body} = {'username': 'email@correto.com', 'password': 'senha_correta'}</msg>
<status status="PASS" starttime="20230928 13:19:12.152" endtime="20230928 13:19:12.153"/>
</kw>
<kw name="Create Session" library="RequestsLibrary">
<arg>alias=${alias}</arg>
<arg>url=${localhost}:${porta}</arg>
<doc>Create Session: create a HTTP session to a server</doc>
<msg timestamp="20230928 13:19:12.153" level="INFO">Creating Session using : alias=sale_api, url=http://localhost:5000, headers={},                     cookies={}, auth=None, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<status status="PASS" starttime="20230928 13:19:12.153" endtime="20230928 13:19:12.153"/>
</kw>
<kw name="POST On Session" library="RequestsLibrary">
<var>${RESPONSE}</var>
<arg>alias=${alias}</arg>
<arg>url=/auth/login</arg>
<arg>json=${Body}</arg>
<doc>Sends a POST request on a previously created HTTP Session.</doc>
<msg timestamp="20230928 13:19:12.157" level="INFO">POST Request : url=http://localhost:5000/auth/login 
 path_url=/auth/login 
 headers={'User-Agent': 'python-requests/2.25.1', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '62', 'Content-Type': 'application/json'} 
 body=b'{"username": "email@correto.com", "password": "senha_correta"}' 
 </msg>
<msg timestamp="20230928 13:19:12.157" level="INFO">POST Response : url=http://localhost:5000/auth/login 
 status=200, reason=OK 
 headers={'Server': 'Werkzeug/2.3.7 Python/3.10.12', 'Date': 'Thu, 28 Sep 2023 16:19:12 GMT', 'Content-Type': 'application/json', 'Content-Length': '277', 'Connection': 'close'} 
 body={
  "created": "Thu, 28 Sep 2023 13:19:12 GMT",
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c",
  "ttl": 1209600,
  "userId": "646e6ce286a5a138a515e0b6"
}
 
 </msg>
<msg timestamp="20230928 13:19:12.157" level="INFO">${RESPONSE} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20230928 13:19:12.154" endtime="20230928 13:19:12.157"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${Body}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 13:19:12.158" level="INFO">{'username': 'email@correto.com', 'password': 'senha_correta'}</msg>
<status status="PASS" starttime="20230928 13:19:12.158" endtime="20230928 13:19:12.158"/>
</kw>
<return>
<value>${RESPONSE}</value>
<status status="PASS" starttime="20230928 13:19:12.158" endtime="20230928 13:19:12.158"/>
</return>
<msg timestamp="20230928 13:19:12.158" level="INFO">${RESPONSE} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20230928 13:19:12.152" endtime="20230928 13:19:12.158"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>Resposta Retornada: ${\n}${RESPONSE.text}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 13:19:12.159" level="INFO">Resposta Retornada: 
{
  "created": "Thu, 28 Sep 2023 13:19:12 GMT",
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c",
  "ttl": 1209600,
  "userId": "646e6ce286a5a138a515e0b6"
}
</msg>
<status status="PASS" starttime="20230928 13:19:12.158" endtime="20230928 13:19:12.159"/>
</kw>
<return>
<value>${RESPONSE}</value>
<status status="PASS" starttime="20230928 13:19:12.159" endtime="20230928 13:19:12.159"/>
</return>
<msg timestamp="20230928 13:19:12.159" level="INFO">${RESPONSE} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20230928 13:19:12.152" endtime="20230928 13:19:12.159"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>Resposta Retornada: ${\n}${RESPONSE}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 13:19:12.160" level="INFO">Resposta Retornada: 
&lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20230928 13:19:12.159" endtime="20230928 13:19:12.160"/>
</kw>
<kw name="Dictionary Should Contain Item" library="Collections">
<arg>${RESPONSE.json()}</arg>
<arg>token</arg>
<arg>eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c</arg>
<doc>An item of ``key`` / ``value`` must be found in a ``dictionary``.</doc>
<status status="PASS" starttime="20230928 13:19:12.160" endtime="20230928 13:19:12.160"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>JSON: ${RESPONSE.json}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 13:19:12.161" level="INFO">JSON: &lt;bound method Response.json of &lt;Response [200]&gt;&gt;</msg>
<status status="PASS" starttime="20230928 13:19:12.160" endtime="20230928 13:19:12.161"/>
</kw>
<status status="PASS" starttime="20230928 13:19:12.152" endtime="20230928 13:19:12.161"/>
</kw>
<tag>[TC-01] Autenticação com credenciais corretas</tag>
<tag>Funcionalidade 01</tag>
<status status="PASS" starttime="20230928 13:19:12.141" endtime="20230928 13:19:12.161"/>
</test>
<test id="s1-t2" name="Cenário 1: Requisição com email inexistente" line="11">
<kw name="DADO que o SALE receba uma requisição POST para autenticação" library="login_keywords">
<kw name="Create Dictionary" library="BuiltIn">
<var>${HEADERS}</var>
<arg>content-type=application-json</arg>
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<msg timestamp="20230928 13:19:12.162" level="INFO">${HEADERS} = {'content-type': 'application-json'}</msg>
<status status="PASS" starttime="20230928 13:19:12.162" endtime="20230928 13:19:12.162"/>
</kw>
<kw name="Create Session" library="RequestsLibrary">
<arg>alias=${alias}</arg>
<arg>url=${localhost}:${porta}</arg>
<doc>Create Session: create a HTTP session to a server</doc>
<msg timestamp="20230928 13:19:12.163" level="INFO">Creating Session using : alias=sale_api, url=http://localhost:5000, headers={},                     cookies={}, auth=None, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<status status="PASS" starttime="20230928 13:19:12.162" endtime="20230928 13:19:12.163"/>
</kw>
<status status="PASS" starttime="20230928 13:19:12.162" endtime="20230928 13:19:12.163"/>
</kw>
<kw name="QUANDO o sistema verificar que o/a email está incorreto/a" library="login_keywords" sourcename="QUANDO o sistema verificar que o/a ${campo} está incorreto/a">
<if>
<branch type="IF" condition="$campo == &quot;email&quot;">
<kw name="Login e Verificar credendiais invalidas" library="login_keywords">
<var>${RESPONSE}</var>
<arg>email@incorreto .com</arg>
<arg>senha_qualquer</arg>
<kw name="Create Dictionary" library="BuiltIn">
<var>${Body}</var>
<arg>username=${username}</arg>
<arg>password=${password}</arg>
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<msg timestamp="20230928 13:19:12.168" level="INFO">${Body} = {'username': 'email@incorreto .com', 'password': 'senha_qualquer'}</msg>
<status status="PASS" starttime="20230928 13:19:12.168" endtime="20230928 13:19:12.168"/>
</kw>
<kw name="Create Session" library="RequestsLibrary">
<arg>alias=${alias}</arg>
<arg>url=${localhost}:${porta}</arg>
<doc>Create Session: create a HTTP session to a server</doc>
<msg timestamp="20230928 13:19:12.169" level="INFO">Creating Session using : alias=sale_api, url=http://localhost:5000, headers={},                     cookies={}, auth=None, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<status status="PASS" starttime="20230928 13:19:12.168" endtime="20230928 13:19:12.169"/>
</kw>
<kw name="POST On Session" library="RequestsLibrary">
<var>${RESPONSE}</var>
<arg>alias=${alias}</arg>
<arg>url=/auth/login</arg>
<arg>json=${Body}</arg>
<arg>expected_status=401</arg>
<doc>Sends a POST request on a previously created HTTP Session.</doc>
<msg timestamp="20230928 13:19:12.173" level="INFO">POST Request : url=http://localhost:5000/auth/login 
 path_url=/auth/login 
 headers={'User-Agent': 'python-requests/2.25.1', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '66', 'Content-Type': 'application/json'} 
 body=b'{"username": "email@incorreto .com", "password": "senha_qualquer"}' 
 </msg>
<msg timestamp="20230928 13:19:12.173" level="INFO">POST Response : url=http://localhost:5000/auth/login 
 status=401, reason=UNAUTHORIZED 
 headers={'Server': 'Werkzeug/2.3.7 Python/3.10.12', 'Date': 'Thu, 28 Sep 2023 16:19:12 GMT', 'Content-Type': 'application/json', 'Content-Length': '74', 'Connection': 'close'} 
 body={
  "message": "login failed",
  "name": "error",
  "statusCode": "400"
}
 
 </msg>
<msg timestamp="20230928 13:19:12.173" level="INFO">${RESPONSE} = &lt;Response [401]&gt;</msg>
<status status="PASS" starttime="20230928 13:19:12.169" endtime="20230928 13:19:12.173"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${Body}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 13:19:12.173" level="INFO">{'username': 'email@incorreto .com', 'password': 'senha_qualquer'}</msg>
<status status="PASS" starttime="20230928 13:19:12.173" endtime="20230928 13:19:12.173"/>
</kw>
<return>
<value>${RESPONSE}</value>
<status status="PASS" starttime="20230928 13:19:12.173" endtime="20230928 13:19:12.174"/>
</return>
<msg timestamp="20230928 13:19:12.174" level="INFO">${RESPONSE} = &lt;Response [401]&gt;</msg>
<status status="PASS" starttime="20230928 13:19:12.167" endtime="20230928 13:19:12.174"/>
</kw>
<status status="PASS" starttime="20230928 13:19:12.163" endtime="20230928 13:19:12.174"/>
</branch>
<branch type="ELSE IF" condition="$campo == &quot;senha&quot;">
<kw name="Login e Verificar credendiais invalidas" library="login_keywords">
<var>${RESPONSE}</var>
<arg>email@correto.com</arg>
<arg>senha_incorreta</arg>
<status status="NOT RUN" starttime="20230928 13:19:12.174" endtime="20230928 13:19:12.174"/>
</kw>
<status status="NOT RUN" starttime="20230928 13:19:12.174" endtime="20230928 13:19:12.174"/>
</branch>
<branch type="ELSE">
<kw name="Login e Verificar credendiais invalidas" library="login_keywords">
<var>${RESPONSE}</var>
<arg>email@incorreto.com</arg>
<arg>senha_incorreta</arg>
<status status="NOT RUN" starttime="20230928 13:19:12.174" endtime="20230928 13:19:12.174"/>
</kw>
<status status="NOT RUN" starttime="20230928 13:19:12.174" endtime="20230928 13:19:12.174"/>
</branch>
<status status="PASS" starttime="20230928 13:19:12.163" endtime="20230928 13:19:12.174"/>
</if>
<kw name="Log" library="BuiltIn">
<arg>Resposta Retornada: ${\n}${RESPONSE.text}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 13:19:12.175" level="INFO">Resposta Retornada: 
{
  "message": "login failed",
  "name": "error",
  "statusCode": "400"
}
</msg>
<status status="PASS" starttime="20230928 13:19:12.174" endtime="20230928 13:19:12.175"/>
</kw>
<return>
<value>${RESPONSE}</value>
<status status="PASS" starttime="20230928 13:19:12.175" endtime="20230928 13:19:12.175"/>
</return>
<status status="PASS" starttime="20230928 13:19:12.163" endtime="20230928 13:19:12.175"/>
</kw>
<kw name="ENTÃO o SALE deve enviar um JSON de resposta contendo um código de erro" library="login_keywords">
<arg>email</arg>
<arg>incorreto</arg>
<if>
<branch type="IF" condition="$tipo == &quot;incorreto&quot;">
<kw name="QUANDO o sistema verificar que o/a ${campo} está incorreto/a" library="login_keywords" sourcename="QUANDO o sistema verificar que o/a ${campo} está incorreto/a">
<var>${RESPONSE}</var>
<if>
<branch type="IF" condition="$campo == &quot;email&quot;">
<kw name="Login e Verificar credendiais invalidas" library="login_keywords">
<var>${RESPONSE}</var>
<arg>email@incorreto .com</arg>
<arg>senha_qualquer</arg>
<kw name="Create Dictionary" library="BuiltIn">
<var>${Body}</var>
<arg>username=${username}</arg>
<arg>password=${password}</arg>
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<msg timestamp="20230928 13:19:12.177" level="INFO">${Body} = {'username': 'email@incorreto .com', 'password': 'senha_qualquer'}</msg>
<status status="PASS" starttime="20230928 13:19:12.177" endtime="20230928 13:19:12.177"/>
</kw>
<kw name="Create Session" library="RequestsLibrary">
<arg>alias=${alias}</arg>
<arg>url=${localhost}:${porta}</arg>
<doc>Create Session: create a HTTP session to a server</doc>
<msg timestamp="20230928 13:19:12.177" level="INFO">Creating Session using : alias=sale_api, url=http://localhost:5000, headers={},                     cookies={}, auth=None, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<status status="PASS" starttime="20230928 13:19:12.177" endtime="20230928 13:19:12.178"/>
</kw>
<kw name="POST On Session" library="RequestsLibrary">
<var>${RESPONSE}</var>
<arg>alias=${alias}</arg>
<arg>url=/auth/login</arg>
<arg>json=${Body}</arg>
<arg>expected_status=401</arg>
<doc>Sends a POST request on a previously created HTTP Session.</doc>
<msg timestamp="20230928 13:19:12.181" level="INFO">POST Request : url=http://localhost:5000/auth/login 
 path_url=/auth/login 
 headers={'User-Agent': 'python-requests/2.25.1', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '66', 'Content-Type': 'application/json'} 
 body=b'{"username": "email@incorreto .com", "password": "senha_qualquer"}' 
 </msg>
<msg timestamp="20230928 13:19:12.181" level="INFO">POST Response : url=http://localhost:5000/auth/login 
 status=401, reason=UNAUTHORIZED 
 headers={'Server': 'Werkzeug/2.3.7 Python/3.10.12', 'Date': 'Thu, 28 Sep 2023 16:19:12 GMT', 'Content-Type': 'application/json', 'Content-Length': '74', 'Connection': 'close'} 
 body={
  "message": "login failed",
  "name": "error",
  "statusCode": "400"
}
 
 </msg>
<msg timestamp="20230928 13:19:12.181" level="INFO">${RESPONSE} = &lt;Response [401]&gt;</msg>
<status status="PASS" starttime="20230928 13:19:12.178" endtime="20230928 13:19:12.181"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${Body}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 13:19:12.182" level="INFO">{'username': 'email@incorreto .com', 'password': 'senha_qualquer'}</msg>
<status status="PASS" starttime="20230928 13:19:12.182" endtime="20230928 13:19:12.182"/>
</kw>
<return>
<value>${RESPONSE}</value>
<status status="PASS" starttime="20230928 13:19:12.182" endtime="20230928 13:19:12.182"/>
</return>
<msg timestamp="20230928 13:19:12.182" level="INFO">${RESPONSE} = &lt;Response [401]&gt;</msg>
<status status="PASS" starttime="20230928 13:19:12.176" endtime="20230928 13:19:12.182"/>
</kw>
<status status="PASS" starttime="20230928 13:19:12.176" endtime="20230928 13:19:12.182"/>
</branch>
<branch type="ELSE IF" condition="$campo == &quot;senha&quot;">
<kw name="Login e Verificar credendiais invalidas" library="login_keywords">
<var>${RESPONSE}</var>
<arg>email@correto.com</arg>
<arg>senha_incorreta</arg>
<status status="NOT RUN" starttime="20230928 13:19:12.182" endtime="20230928 13:19:12.182"/>
</kw>
<status status="NOT RUN" starttime="20230928 13:19:12.182" endtime="20230928 13:19:12.182"/>
</branch>
<branch type="ELSE">
<kw name="Login e Verificar credendiais invalidas" library="login_keywords">
<var>${RESPONSE}</var>
<arg>email@incorreto.com</arg>
<arg>senha_incorreta</arg>
<status status="NOT RUN" starttime="20230928 13:19:12.183" endtime="20230928 13:19:12.183"/>
</kw>
<status status="NOT RUN" starttime="20230928 13:19:12.182" endtime="20230928 13:19:12.183"/>
</branch>
<status status="PASS" starttime="20230928 13:19:12.176" endtime="20230928 13:19:12.183"/>
</if>
<kw name="Log" library="BuiltIn">
<arg>Resposta Retornada: ${\n}${RESPONSE.text}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 13:19:12.183" level="INFO">Resposta Retornada: 
{
  "message": "login failed",
  "name": "error",
  "statusCode": "400"
}
</msg>
<status status="PASS" starttime="20230928 13:19:12.183" endtime="20230928 13:19:12.184"/>
</kw>
<return>
<value>${RESPONSE}</value>
<status status="PASS" starttime="20230928 13:19:12.184" endtime="20230928 13:19:12.184"/>
</return>
<msg timestamp="20230928 13:19:12.184" level="INFO">${RESPONSE} = &lt;Response [401]&gt;</msg>
<status status="PASS" starttime="20230928 13:19:12.176" endtime="20230928 13:19:12.184"/>
</kw>
<status status="PASS" starttime="20230928 13:19:12.176" endtime="20230928 13:19:12.184"/>
</branch>
<branch type="ELSE IF" condition="$tipo == &quot;branco&quot;">
<kw name="QUANDO o sistema verificar que o/a ${campo} está em branco" library="login_keywords" sourcename="QUANDO o sistema verificar que o/a ${campo} está em branco">
<var>${RESPONSE}</var>
<status status="NOT RUN" starttime="20230928 13:19:12.184" endtime="20230928 13:19:12.184"/>
</kw>
<status status="NOT RUN" starttime="20230928 13:19:12.184" endtime="20230928 13:19:12.184"/>
</branch>
<status status="PASS" starttime="20230928 13:19:12.176" endtime="20230928 13:19:12.184"/>
</if>
<kw name="Log" library="BuiltIn">
<arg>Resposta Retornada: ${\n}${RESPONSE}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 13:19:12.185" level="INFO">Resposta Retornada: 
&lt;Response [401]&gt;</msg>
<status status="PASS" starttime="20230928 13:19:12.184" endtime="20230928 13:19:12.185"/>
</kw>
<kw name="Dictionary Should Contain Item" library="Collections">
<arg>${RESPONSE.json()}</arg>
<arg>statusCode</arg>
<arg>400</arg>
<doc>An item of ``key`` / ``value`` must be found in a ``dictionary``.</doc>
<status status="PASS" starttime="20230928 13:19:12.185" endtime="20230928 13:19:12.186"/>
</kw>
<kw name="Dictionary Should Contain Item" library="Collections">
<arg>${RESPONSE.json()}</arg>
<arg>message</arg>
<arg>login failed</arg>
<doc>An item of ``key`` / ``value`` must be found in a ``dictionary``.</doc>
<status status="PASS" starttime="20230928 13:19:12.186" endtime="20230928 13:19:12.187"/>
</kw>
<kw name="Dictionary Should Contain Item" library="Collections">
<arg>${RESPONSE.json()}</arg>
<arg>name</arg>
<arg>error</arg>
<doc>An item of ``key`` / ``value`` must be found in a ``dictionary``.</doc>
<status status="PASS" starttime="20230928 13:19:12.187" endtime="20230928 13:19:12.188"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>JSON: ${RESPONSE.json}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 13:19:12.188" level="INFO">JSON: &lt;bound method Response.json of &lt;Response [401]&gt;&gt;</msg>
<status status="PASS" starttime="20230928 13:19:12.188" endtime="20230928 13:19:12.188"/>
</kw>
<status status="PASS" starttime="20230928 13:19:12.175" endtime="20230928 13:19:12.188"/>
</kw>
<tag>[TC-02] Autenticação com credenciais incorretas</tag>
<tag>Funcionalidade 01</tag>
<status status="PASS" starttime="20230928 13:19:12.161" endtime="20230928 13:19:12.189"/>
</test>
<test id="s1-t3" name="Cenário 2: Requisição com senha inexistente" line="17">
<kw name="DADO que o SALE receba uma requisição POST para autenticação" library="login_keywords">
<kw name="Create Dictionary" library="BuiltIn">
<var>${HEADERS}</var>
<arg>content-type=application-json</arg>
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<msg timestamp="20230928 13:19:12.190" level="INFO">${HEADERS} = {'content-type': 'application-json'}</msg>
<status status="PASS" starttime="20230928 13:19:12.190" endtime="20230928 13:19:12.190"/>
</kw>
<kw name="Create Session" library="RequestsLibrary">
<arg>alias=${alias}</arg>
<arg>url=${localhost}:${porta}</arg>
<doc>Create Session: create a HTTP session to a server</doc>
<msg timestamp="20230928 13:19:12.190" level="INFO">Creating Session using : alias=sale_api, url=http://localhost:5000, headers={},                     cookies={}, auth=None, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<status status="PASS" starttime="20230928 13:19:12.190" endtime="20230928 13:19:12.191"/>
</kw>
<status status="PASS" starttime="20230928 13:19:12.189" endtime="20230928 13:19:12.191"/>
</kw>
<kw name="QUANDO o sistema verificar que o/a senha está incorreto/a" library="login_keywords" sourcename="QUANDO o sistema verificar que o/a ${campo} está incorreto/a">
<if>
<branch type="IF" condition="$campo == &quot;email&quot;">
<kw name="Login e Verificar credendiais invalidas" library="login_keywords">
<var>${RESPONSE}</var>
<arg>email@incorreto .com</arg>
<arg>senha_qualquer</arg>
<status status="NOT RUN" starttime="20230928 13:19:12.191" endtime="20230928 13:19:12.191"/>
</kw>
<status status="NOT RUN" starttime="20230928 13:19:12.191" endtime="20230928 13:19:12.192"/>
</branch>
<branch type="ELSE IF" condition="$campo == &quot;senha&quot;">
<kw name="Login e Verificar credendiais invalidas" library="login_keywords">
<var>${RESPONSE}</var>
<arg>email@correto.com</arg>
<arg>senha_incorreta</arg>
<kw name="Create Dictionary" library="BuiltIn">
<var>${Body}</var>
<arg>username=${username}</arg>
<arg>password=${password}</arg>
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<msg timestamp="20230928 13:19:12.192" level="INFO">${Body} = {'username': 'email@correto.com', 'password': 'senha_incorreta'}</msg>
<status status="PASS" starttime="20230928 13:19:12.192" endtime="20230928 13:19:12.192"/>
</kw>
<kw name="Create Session" library="RequestsLibrary">
<arg>alias=${alias}</arg>
<arg>url=${localhost}:${porta}</arg>
<doc>Create Session: create a HTTP session to a server</doc>
<msg timestamp="20230928 13:19:12.193" level="INFO">Creating Session using : alias=sale_api, url=http://localhost:5000, headers={},                     cookies={}, auth=None, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<status status="PASS" starttime="20230928 13:19:12.193" endtime="20230928 13:19:12.193"/>
</kw>
<kw name="POST On Session" library="RequestsLibrary">
<var>${RESPONSE}</var>
<arg>alias=${alias}</arg>
<arg>url=/auth/login</arg>
<arg>json=${Body}</arg>
<arg>expected_status=401</arg>
<doc>Sends a POST request on a previously created HTTP Session.</doc>
<msg timestamp="20230928 13:19:12.197" level="INFO">POST Request : url=http://localhost:5000/auth/login 
 path_url=/auth/login 
 headers={'User-Agent': 'python-requests/2.25.1', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '64', 'Content-Type': 'application/json'} 
 body=b'{"username": "email@correto.com", "password": "senha_incorreta"}' 
 </msg>
<msg timestamp="20230928 13:19:12.197" level="INFO">POST Response : url=http://localhost:5000/auth/login 
 status=401, reason=UNAUTHORIZED 
 headers={'Server': 'Werkzeug/2.3.7 Python/3.10.12', 'Date': 'Thu, 28 Sep 2023 16:19:12 GMT', 'Content-Type': 'application/json', 'Content-Length': '74', 'Connection': 'close'} 
 body={
  "message": "login failed",
  "name": "error",
  "statusCode": "400"
}
 
 </msg>
<msg timestamp="20230928 13:19:12.197" level="INFO">${RESPONSE} = &lt;Response [401]&gt;</msg>
<status status="PASS" starttime="20230928 13:19:12.193" endtime="20230928 13:19:12.197"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${Body}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 13:19:12.197" level="INFO">{'username': 'email@correto.com', 'password': 'senha_incorreta'}</msg>
<status status="PASS" starttime="20230928 13:19:12.197" endtime="20230928 13:19:12.197"/>
</kw>
<return>
<value>${RESPONSE}</value>
<status status="PASS" starttime="20230928 13:19:12.197" endtime="20230928 13:19:12.197"/>
</return>
<msg timestamp="20230928 13:19:12.197" level="INFO">${RESPONSE} = &lt;Response [401]&gt;</msg>
<status status="PASS" starttime="20230928 13:19:12.192" endtime="20230928 13:19:12.198"/>
</kw>
<status status="PASS" starttime="20230928 13:19:12.192" endtime="20230928 13:19:12.198"/>
</branch>
<branch type="ELSE">
<kw name="Login e Verificar credendiais invalidas" library="login_keywords">
<var>${RESPONSE}</var>
<arg>email@incorreto.com</arg>
<arg>senha_incorreta</arg>
<status status="NOT RUN" starttime="20230928 13:19:12.198" endtime="20230928 13:19:12.198"/>
</kw>
<status status="NOT RUN" starttime="20230928 13:19:12.198" endtime="20230928 13:19:12.198"/>
</branch>
<status status="PASS" starttime="20230928 13:19:12.191" endtime="20230928 13:19:12.198"/>
</if>
<kw name="Log" library="BuiltIn">
<arg>Resposta Retornada: ${\n}${RESPONSE.text}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 13:19:12.198" level="INFO">Resposta Retornada: 
{
  "message": "login failed",
  "name": "error",
  "statusCode": "400"
}
</msg>
<status status="PASS" starttime="20230928 13:19:12.198" endtime="20230928 13:19:12.199"/>
</kw>
<return>
<value>${RESPONSE}</value>
<status status="PASS" starttime="20230928 13:19:12.199" endtime="20230928 13:19:12.199"/>
</return>
<status status="PASS" starttime="20230928 13:19:12.191" endtime="20230928 13:19:12.199"/>
</kw>
<kw name="ENTÃO o SALE deve enviar um JSON de resposta contendo um código de erro" library="login_keywords">
<arg>senha</arg>
<arg>incorreto</arg>
<if>
<branch type="IF" condition="$tipo == &quot;incorreto&quot;">
<kw name="QUANDO o sistema verificar que o/a ${campo} está incorreto/a" library="login_keywords" sourcename="QUANDO o sistema verificar que o/a ${campo} está incorreto/a">
<var>${RESPONSE}</var>
<if>
<branch type="IF" condition="$campo == &quot;email&quot;">
<kw name="Login e Verificar credendiais invalidas" library="login_keywords">
<var>${RESPONSE}</var>
<arg>email@incorreto .com</arg>
<arg>senha_qualquer</arg>
<status status="NOT RUN" starttime="20230928 13:19:12.200" endtime="20230928 13:19:12.200"/>
</kw>
<status status="NOT RUN" starttime="20230928 13:19:12.200" endtime="20230928 13:19:12.200"/>
</branch>
<branch type="ELSE IF" condition="$campo == &quot;senha&quot;">
<kw name="Login e Verificar credendiais invalidas" library="login_keywords">
<var>${RESPONSE}</var>
<arg>email@correto.com</arg>
<arg>senha_incorreta</arg>
<kw name="Create Dictionary" library="BuiltIn">
<var>${Body}</var>
<arg>username=${username}</arg>
<arg>password=${password}</arg>
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<msg timestamp="20230928 13:19:12.202" level="INFO">${Body} = {'username': 'email@correto.com', 'password': 'senha_incorreta'}</msg>
<status status="PASS" starttime="20230928 13:19:12.201" endtime="20230928 13:19:12.202"/>
</kw>
<kw name="Create Session" library="RequestsLibrary">
<arg>alias=${alias}</arg>
<arg>url=${localhost}:${porta}</arg>
<doc>Create Session: create a HTTP session to a server</doc>
<msg timestamp="20230928 13:19:12.202" level="INFO">Creating Session using : alias=sale_api, url=http://localhost:5000, headers={},                     cookies={}, auth=None, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<status status="PASS" starttime="20230928 13:19:12.202" endtime="20230928 13:19:12.203"/>
</kw>
<kw name="POST On Session" library="RequestsLibrary">
<var>${RESPONSE}</var>
<arg>alias=${alias}</arg>
<arg>url=/auth/login</arg>
<arg>json=${Body}</arg>
<arg>expected_status=401</arg>
<doc>Sends a POST request on a previously created HTTP Session.</doc>
<msg timestamp="20230928 13:19:12.206" level="INFO">POST Request : url=http://localhost:5000/auth/login 
 path_url=/auth/login 
 headers={'User-Agent': 'python-requests/2.25.1', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '64', 'Content-Type': 'application/json'} 
 body=b'{"username": "email@correto.com", "password": "senha_incorreta"}' 
 </msg>
<msg timestamp="20230928 13:19:12.206" level="INFO">POST Response : url=http://localhost:5000/auth/login 
 status=401, reason=UNAUTHORIZED 
 headers={'Server': 'Werkzeug/2.3.7 Python/3.10.12', 'Date': 'Thu, 28 Sep 2023 16:19:12 GMT', 'Content-Type': 'application/json', 'Content-Length': '74', 'Connection': 'close'} 
 body={
  "message": "login failed",
  "name": "error",
  "statusCode": "400"
}
 
 </msg>
<msg timestamp="20230928 13:19:12.206" level="INFO">${RESPONSE} = &lt;Response [401]&gt;</msg>
<status status="PASS" starttime="20230928 13:19:12.203" endtime="20230928 13:19:12.207"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${Body}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 13:19:12.207" level="INFO">{'username': 'email@correto.com', 'password': 'senha_incorreta'}</msg>
<status status="PASS" starttime="20230928 13:19:12.207" endtime="20230928 13:19:12.207"/>
</kw>
<return>
<value>${RESPONSE}</value>
<status status="PASS" starttime="20230928 13:19:12.207" endtime="20230928 13:19:12.207"/>
</return>
<msg timestamp="20230928 13:19:12.207" level="INFO">${RESPONSE} = &lt;Response [401]&gt;</msg>
<status status="PASS" starttime="20230928 13:19:12.200" endtime="20230928 13:19:12.207"/>
</kw>
<status status="PASS" starttime="20230928 13:19:12.200" endtime="20230928 13:19:12.207"/>
</branch>
<branch type="ELSE">
<kw name="Login e Verificar credendiais invalidas" library="login_keywords">
<var>${RESPONSE}</var>
<arg>email@incorreto.com</arg>
<arg>senha_incorreta</arg>
<status status="NOT RUN" starttime="20230928 13:19:12.207" endtime="20230928 13:19:12.208"/>
</kw>
<status status="NOT RUN" starttime="20230928 13:19:12.207" endtime="20230928 13:19:12.208"/>
</branch>
<status status="PASS" starttime="20230928 13:19:12.200" endtime="20230928 13:19:12.208"/>
</if>
<kw name="Log" library="BuiltIn">
<arg>Resposta Retornada: ${\n}${RESPONSE.text}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 13:19:12.208" level="INFO">Resposta Retornada: 
{
  "message": "login failed",
  "name": "error",
  "statusCode": "400"
}
</msg>
<status status="PASS" starttime="20230928 13:19:12.208" endtime="20230928 13:19:12.208"/>
</kw>
<return>
<value>${RESPONSE}</value>
<status status="PASS" starttime="20230928 13:19:12.208" endtime="20230928 13:19:12.208"/>
</return>
<msg timestamp="20230928 13:19:12.209" level="INFO">${RESPONSE} = &lt;Response [401]&gt;</msg>
<status status="PASS" starttime="20230928 13:19:12.200" endtime="20230928 13:19:12.209"/>
</kw>
<status status="PASS" starttime="20230928 13:19:12.199" endtime="20230928 13:19:12.209"/>
</branch>
<branch type="ELSE IF" condition="$tipo == &quot;branco&quot;">
<kw name="QUANDO o sistema verificar que o/a ${campo} está em branco" library="login_keywords" sourcename="QUANDO o sistema verificar que o/a ${campo} está em branco">
<var>${RESPONSE}</var>
<status status="NOT RUN" starttime="20230928 13:19:12.209" endtime="20230928 13:19:12.209"/>
</kw>
<status status="NOT RUN" starttime="20230928 13:19:12.209" endtime="20230928 13:19:12.209"/>
</branch>
<status status="PASS" starttime="20230928 13:19:12.199" endtime="20230928 13:19:12.209"/>
</if>
<kw name="Log" library="BuiltIn">
<arg>Resposta Retornada: ${\n}${RESPONSE}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 13:19:12.209" level="INFO">Resposta Retornada: 
&lt;Response [401]&gt;</msg>
<status status="PASS" starttime="20230928 13:19:12.209" endtime="20230928 13:19:12.209"/>
</kw>
<kw name="Dictionary Should Contain Item" library="Collections">
<arg>${RESPONSE.json()}</arg>
<arg>statusCode</arg>
<arg>400</arg>
<doc>An item of ``key`` / ``value`` must be found in a ``dictionary``.</doc>
<status status="PASS" starttime="20230928 13:19:12.209" endtime="20230928 13:19:12.210"/>
</kw>
<kw name="Dictionary Should Contain Item" library="Collections">
<arg>${RESPONSE.json()}</arg>
<arg>message</arg>
<arg>login failed</arg>
<doc>An item of ``key`` / ``value`` must be found in a ``dictionary``.</doc>
<status status="PASS" starttime="20230928 13:19:12.210" endtime="20230928 13:19:12.211"/>
</kw>
<kw name="Dictionary Should Contain Item" library="Collections">
<arg>${RESPONSE.json()}</arg>
<arg>name</arg>
<arg>error</arg>
<doc>An item of ``key`` / ``value`` must be found in a ``dictionary``.</doc>
<status status="PASS" starttime="20230928 13:19:12.211" endtime="20230928 13:19:12.211"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>JSON: ${RESPONSE.json}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 13:19:12.212" level="INFO">JSON: &lt;bound method Response.json of &lt;Response [401]&gt;&gt;</msg>
<status status="PASS" starttime="20230928 13:19:12.211" endtime="20230928 13:19:12.212"/>
</kw>
<status status="PASS" starttime="20230928 13:19:12.199" endtime="20230928 13:19:12.212"/>
</kw>
<tag>[TC-02] Autenticação com credenciais incorretas</tag>
<tag>Funcionalidade 01</tag>
<status status="PASS" starttime="20230928 13:19:12.189" endtime="20230928 13:19:12.212"/>
</test>
<test id="s1-t4" name="Cenário 1: Autenticação com email em branco" line="23">
<kw name="DADO que o SALE receba uma requisição POST para autenticação" library="login_keywords">
<kw name="Create Dictionary" library="BuiltIn">
<var>${HEADERS}</var>
<arg>content-type=application-json</arg>
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<msg timestamp="20230928 13:19:12.214" level="INFO">${HEADERS} = {'content-type': 'application-json'}</msg>
<status status="PASS" starttime="20230928 13:19:12.213" endtime="20230928 13:19:12.214"/>
</kw>
<kw name="Create Session" library="RequestsLibrary">
<arg>alias=${alias}</arg>
<arg>url=${localhost}:${porta}</arg>
<doc>Create Session: create a HTTP session to a server</doc>
<msg timestamp="20230928 13:19:12.214" level="INFO">Creating Session using : alias=sale_api, url=http://localhost:5000, headers={},                     cookies={}, auth=None, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<status status="PASS" starttime="20230928 13:19:12.214" endtime="20230928 13:19:12.214"/>
</kw>
<status status="PASS" starttime="20230928 13:19:12.213" endtime="20230928 13:19:12.214"/>
</kw>
<kw name="QUANDO o sistema verificar que o/a email está em branco" library="login_keywords" sourcename="QUANDO o sistema verificar que o/a ${campo} está em branco">
<if>
<branch type="IF" condition="$campo == &quot;email&quot;">
<kw name="Login e Verificar credendiais em branco" library="login_keywords">
<var>${RESPONSE}</var>
<arg>${None}</arg>
<arg>senha_qualquer</arg>
<kw name="Create Dictionary" library="BuiltIn">
<var>${Body}</var>
<arg>username=${username}</arg>
<arg>password=${password}</arg>
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<msg timestamp="20230928 13:19:12.217" level="INFO">${Body} = {'username': None, 'password': 'senha_qualquer'}</msg>
<status status="PASS" starttime="20230928 13:19:12.216" endtime="20230928 13:19:12.217"/>
</kw>
<kw name="Create Session" library="RequestsLibrary">
<arg>alias=${alias}</arg>
<arg>url=${localhost}:${porta}</arg>
<doc>Create Session: create a HTTP session to a server</doc>
<msg timestamp="20230928 13:19:12.217" level="INFO">Creating Session using : alias=sale_api, url=http://localhost:5000, headers={},                     cookies={}, auth=None, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<status status="PASS" starttime="20230928 13:19:12.217" endtime="20230928 13:19:12.218"/>
</kw>
<kw name="POST On Session" library="RequestsLibrary">
<var>${RESPONSE}</var>
<arg>alias=${alias}</arg>
<arg>url=/auth/login</arg>
<arg>json=${Body}</arg>
<arg>expected_status=400</arg>
<doc>Sends a POST request on a previously created HTTP Session.</doc>
<msg timestamp="20230928 13:19:12.223" level="INFO">POST Request : url=http://localhost:5000/auth/login 
 path_url=/auth/login 
 headers={'User-Agent': 'python-requests/2.25.1', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '48', 'Content-Type': 'application/json'} 
 body=b'{"username": null, "password": "senha_qualquer"}' 
 </msg>
<msg timestamp="20230928 13:19:12.223" level="INFO">POST Response : url=http://localhost:5000/auth/login 
 status=400, reason=BAD REQUEST 
 headers={'Server': 'Werkzeug/2.3.7 Python/3.10.12', 'Date': 'Thu, 28 Sep 2023 16:19:12 GMT', 'Content-Type': 'application/json', 'Content-Length': '74', 'Connection': 'close'} 
 body={
  "message": "login failed",
  "name": "error",
  "statusCode": "400"
}
 
 </msg>
<msg timestamp="20230928 13:19:12.223" level="INFO">${RESPONSE} = &lt;Response [400]&gt;</msg>
<status status="PASS" starttime="20230928 13:19:12.219" endtime="20230928 13:19:12.223"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${Body}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 13:19:12.223" level="INFO">{'username': None, 'password': 'senha_qualquer'}</msg>
<status status="PASS" starttime="20230928 13:19:12.223" endtime="20230928 13:19:12.223"/>
</kw>
<return>
<value>${RESPONSE}</value>
<status status="PASS" starttime="20230928 13:19:12.223" endtime="20230928 13:19:12.224"/>
</return>
<msg timestamp="20230928 13:19:12.224" level="INFO">${RESPONSE} = &lt;Response [400]&gt;</msg>
<status status="PASS" starttime="20230928 13:19:12.216" endtime="20230928 13:19:12.224"/>
</kw>
<status status="PASS" starttime="20230928 13:19:12.216" endtime="20230928 13:19:12.224"/>
</branch>
<branch type="ELSE IF" condition="$campo == &quot;senha&quot;">
<kw name="Login e Verificar credendiais em branco" library="login_keywords">
<var>${RESPONSE}</var>
<arg>email@correto.com</arg>
<arg>${None}</arg>
<status status="NOT RUN" starttime="20230928 13:19:12.224" endtime="20230928 13:19:12.224"/>
</kw>
<status status="NOT RUN" starttime="20230928 13:19:12.224" endtime="20230928 13:19:12.224"/>
</branch>
<branch type="ELSE">
<kw name="Login e Verificar credendiais em branco" library="login_keywords">
<var>${RESPONSE}</var>
<arg>${None}</arg>
<arg>${None}</arg>
<status status="NOT RUN" starttime="20230928 13:19:12.224" endtime="20230928 13:19:12.224"/>
</kw>
<status status="NOT RUN" starttime="20230928 13:19:12.224" endtime="20230928 13:19:12.224"/>
</branch>
<status status="PASS" starttime="20230928 13:19:12.215" endtime="20230928 13:19:12.224"/>
</if>
<kw name="Log" library="BuiltIn">
<arg>Resposta Retornada: ${\n}${RESPONSE.text}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 13:19:12.225" level="INFO">Resposta Retornada: 
{
  "message": "login failed",
  "name": "error",
  "statusCode": "400"
}
</msg>
<status status="PASS" starttime="20230928 13:19:12.224" endtime="20230928 13:19:12.225"/>
</kw>
<return>
<value>${RESPONSE}</value>
<status status="PASS" starttime="20230928 13:19:12.225" endtime="20230928 13:19:12.225"/>
</return>
<status status="PASS" starttime="20230928 13:19:12.215" endtime="20230928 13:19:12.225"/>
</kw>
<kw name="ENTÃO o SALE deve enviar um JSON de resposta contendo um código de erro" library="login_keywords">
<arg>email</arg>
<arg>branco</arg>
<if>
<branch type="IF" condition="$tipo == &quot;incorreto&quot;">
<kw name="QUANDO o sistema verificar que o/a ${campo} está incorreto/a" library="login_keywords" sourcename="QUANDO o sistema verificar que o/a ${campo} está incorreto/a">
<var>${RESPONSE}</var>
<status status="NOT RUN" starttime="20230928 13:19:12.226" endtime="20230928 13:19:12.226"/>
</kw>
<status status="NOT RUN" starttime="20230928 13:19:12.226" endtime="20230928 13:19:12.227"/>
</branch>
<branch type="ELSE IF" condition="$tipo == &quot;branco&quot;">
<kw name="QUANDO o sistema verificar que o/a ${campo} está em branco" library="login_keywords" sourcename="QUANDO o sistema verificar que o/a ${campo} está em branco">
<var>${RESPONSE}</var>
<if>
<branch type="IF" condition="$campo == &quot;email&quot;">
<kw name="Login e Verificar credendiais em branco" library="login_keywords">
<var>${RESPONSE}</var>
<arg>${None}</arg>
<arg>senha_qualquer</arg>
<kw name="Create Dictionary" library="BuiltIn">
<var>${Body}</var>
<arg>username=${username}</arg>
<arg>password=${password}</arg>
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<msg timestamp="20230928 13:19:12.228" level="INFO">${Body} = {'username': None, 'password': 'senha_qualquer'}</msg>
<status status="PASS" starttime="20230928 13:19:12.228" endtime="20230928 13:19:12.228"/>
</kw>
<kw name="Create Session" library="RequestsLibrary">
<arg>alias=${alias}</arg>
<arg>url=${localhost}:${porta}</arg>
<doc>Create Session: create a HTTP session to a server</doc>
<msg timestamp="20230928 13:19:12.228" level="INFO">Creating Session using : alias=sale_api, url=http://localhost:5000, headers={},                     cookies={}, auth=None, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<status status="PASS" starttime="20230928 13:19:12.228" endtime="20230928 13:19:12.229"/>
</kw>
<kw name="POST On Session" library="RequestsLibrary">
<var>${RESPONSE}</var>
<arg>alias=${alias}</arg>
<arg>url=/auth/login</arg>
<arg>json=${Body}</arg>
<arg>expected_status=400</arg>
<doc>Sends a POST request on a previously created HTTP Session.</doc>
<msg timestamp="20230928 13:19:12.232" level="INFO">POST Request : url=http://localhost:5000/auth/login 
 path_url=/auth/login 
 headers={'User-Agent': 'python-requests/2.25.1', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '48', 'Content-Type': 'application/json'} 
 body=b'{"username": null, "password": "senha_qualquer"}' 
 </msg>
<msg timestamp="20230928 13:19:12.232" level="INFO">POST Response : url=http://localhost:5000/auth/login 
 status=400, reason=BAD REQUEST 
 headers={'Server': 'Werkzeug/2.3.7 Python/3.10.12', 'Date': 'Thu, 28 Sep 2023 16:19:12 GMT', 'Content-Type': 'application/json', 'Content-Length': '74', 'Connection': 'close'} 
 body={
  "message": "login failed",
  "name": "error",
  "statusCode": "400"
}
 
 </msg>
<msg timestamp="20230928 13:19:12.233" level="INFO">${RESPONSE} = &lt;Response [400]&gt;</msg>
<status status="PASS" starttime="20230928 13:19:12.229" endtime="20230928 13:19:12.233"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${Body}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 13:19:12.233" level="INFO">{'username': None, 'password': 'senha_qualquer'}</msg>
<status status="PASS" starttime="20230928 13:19:12.233" endtime="20230928 13:19:12.233"/>
</kw>
<return>
<value>${RESPONSE}</value>
<status status="PASS" starttime="20230928 13:19:12.233" endtime="20230928 13:19:12.233"/>
</return>
<msg timestamp="20230928 13:19:12.233" level="INFO">${RESPONSE} = &lt;Response [400]&gt;</msg>
<status status="PASS" starttime="20230928 13:19:12.227" endtime="20230928 13:19:12.233"/>
</kw>
<status status="PASS" starttime="20230928 13:19:12.227" endtime="20230928 13:19:12.233"/>
</branch>
<branch type="ELSE IF" condition="$campo == &quot;senha&quot;">
<kw name="Login e Verificar credendiais em branco" library="login_keywords">
<var>${RESPONSE}</var>
<arg>email@correto.com</arg>
<arg>${None}</arg>
<status status="NOT RUN" starttime="20230928 13:19:12.234" endtime="20230928 13:19:12.234"/>
</kw>
<status status="NOT RUN" starttime="20230928 13:19:12.234" endtime="20230928 13:19:12.234"/>
</branch>
<branch type="ELSE">
<kw name="Login e Verificar credendiais em branco" library="login_keywords">
<var>${RESPONSE}</var>
<arg>${None}</arg>
<arg>${None}</arg>
<status status="NOT RUN" starttime="20230928 13:19:12.234" endtime="20230928 13:19:12.234"/>
</kw>
<status status="NOT RUN" starttime="20230928 13:19:12.234" endtime="20230928 13:19:12.234"/>
</branch>
<status status="PASS" starttime="20230928 13:19:12.227" endtime="20230928 13:19:12.234"/>
</if>
<kw name="Log" library="BuiltIn">
<arg>Resposta Retornada: ${\n}${RESPONSE.text}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 13:19:12.235" level="INFO">Resposta Retornada: 
{
  "message": "login failed",
  "name": "error",
  "statusCode": "400"
}
</msg>
<status status="PASS" starttime="20230928 13:19:12.234" endtime="20230928 13:19:12.235"/>
</kw>
<return>
<value>${RESPONSE}</value>
<status status="PASS" starttime="20230928 13:19:12.235" endtime="20230928 13:19:12.235"/>
</return>
<msg timestamp="20230928 13:19:12.235" level="INFO">${RESPONSE} = &lt;Response [400]&gt;</msg>
<status status="PASS" starttime="20230928 13:19:12.227" endtime="20230928 13:19:12.235"/>
</kw>
<status status="PASS" starttime="20230928 13:19:12.227" endtime="20230928 13:19:12.235"/>
</branch>
<status status="PASS" starttime="20230928 13:19:12.226" endtime="20230928 13:19:12.235"/>
</if>
<kw name="Log" library="BuiltIn">
<arg>Resposta Retornada: ${\n}${RESPONSE}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 13:19:12.236" level="INFO">Resposta Retornada: 
&lt;Response [400]&gt;</msg>
<status status="PASS" starttime="20230928 13:19:12.235" endtime="20230928 13:19:12.236"/>
</kw>
<kw name="Dictionary Should Contain Item" library="Collections">
<arg>${RESPONSE.json()}</arg>
<arg>statusCode</arg>
<arg>400</arg>
<doc>An item of ``key`` / ``value`` must be found in a ``dictionary``.</doc>
<status status="PASS" starttime="20230928 13:19:12.236" endtime="20230928 13:19:12.236"/>
</kw>
<kw name="Dictionary Should Contain Item" library="Collections">
<arg>${RESPONSE.json()}</arg>
<arg>message</arg>
<arg>login failed</arg>
<doc>An item of ``key`` / ``value`` must be found in a ``dictionary``.</doc>
<status status="PASS" starttime="20230928 13:19:12.236" endtime="20230928 13:19:12.237"/>
</kw>
<kw name="Dictionary Should Contain Item" library="Collections">
<arg>${RESPONSE.json()}</arg>
<arg>name</arg>
<arg>error</arg>
<doc>An item of ``key`` / ``value`` must be found in a ``dictionary``.</doc>
<status status="PASS" starttime="20230928 13:19:12.237" endtime="20230928 13:19:12.238"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>JSON: ${RESPONSE.json}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 13:19:12.239" level="INFO">JSON: &lt;bound method Response.json of &lt;Response [400]&gt;&gt;</msg>
<status status="PASS" starttime="20230928 13:19:12.238" endtime="20230928 13:19:12.239"/>
</kw>
<status status="PASS" starttime="20230928 13:19:12.226" endtime="20230928 13:19:12.239"/>
</kw>
<tag>[TC-03] Autenticação com credenciais em branco</tag>
<tag>Funcionalidade 01</tag>
<status status="PASS" starttime="20230928 13:19:12.212" endtime="20230928 13:19:12.239"/>
</test>
<test id="s1-t5" name="Cenário 2: Autenticação com senha em branco" line="29">
<kw name="DADO que o SALE receba uma requisição POST para autenticação" library="login_keywords">
<kw name="Create Dictionary" library="BuiltIn">
<var>${HEADERS}</var>
<arg>content-type=application-json</arg>
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<msg timestamp="20230928 13:19:12.241" level="INFO">${HEADERS} = {'content-type': 'application-json'}</msg>
<status status="PASS" starttime="20230928 13:19:12.240" endtime="20230928 13:19:12.241"/>
</kw>
<kw name="Create Session" library="RequestsLibrary">
<arg>alias=${alias}</arg>
<arg>url=${localhost}:${porta}</arg>
<doc>Create Session: create a HTTP session to a server</doc>
<msg timestamp="20230928 13:19:12.241" level="INFO">Creating Session using : alias=sale_api, url=http://localhost:5000, headers={},                     cookies={}, auth=None, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<status status="PASS" starttime="20230928 13:19:12.241" endtime="20230928 13:19:12.241"/>
</kw>
<status status="PASS" starttime="20230928 13:19:12.240" endtime="20230928 13:19:12.241"/>
</kw>
<kw name="QUANDO o sistema verificar que o/a senha está em branco" library="login_keywords" sourcename="QUANDO o sistema verificar que o/a ${campo} está em branco">
<if>
<branch type="IF" condition="$campo == &quot;email&quot;">
<kw name="Login e Verificar credendiais em branco" library="login_keywords">
<var>${RESPONSE}</var>
<arg>${None}</arg>
<arg>senha_qualquer</arg>
<status status="NOT RUN" starttime="20230928 13:19:12.242" endtime="20230928 13:19:12.242"/>
</kw>
<status status="NOT RUN" starttime="20230928 13:19:12.242" endtime="20230928 13:19:12.242"/>
</branch>
<branch type="ELSE IF" condition="$campo == &quot;senha&quot;">
<kw name="Login e Verificar credendiais em branco" library="login_keywords">
<var>${RESPONSE}</var>
<arg>email@correto.com</arg>
<arg>${None}</arg>
<kw name="Create Dictionary" library="BuiltIn">
<var>${Body}</var>
<arg>username=${username}</arg>
<arg>password=${password}</arg>
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<msg timestamp="20230928 13:19:12.243" level="INFO">${Body} = {'username': 'email@correto.com', 'password': None}</msg>
<status status="PASS" starttime="20230928 13:19:12.243" endtime="20230928 13:19:12.243"/>
</kw>
<kw name="Create Session" library="RequestsLibrary">
<arg>alias=${alias}</arg>
<arg>url=${localhost}:${porta}</arg>
<doc>Create Session: create a HTTP session to a server</doc>
<msg timestamp="20230928 13:19:12.244" level="INFO">Creating Session using : alias=sale_api, url=http://localhost:5000, headers={},                     cookies={}, auth=None, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<status status="PASS" starttime="20230928 13:19:12.243" endtime="20230928 13:19:12.244"/>
</kw>
<kw name="POST On Session" library="RequestsLibrary">
<var>${RESPONSE}</var>
<arg>alias=${alias}</arg>
<arg>url=/auth/login</arg>
<arg>json=${Body}</arg>
<arg>expected_status=400</arg>
<doc>Sends a POST request on a previously created HTTP Session.</doc>
<msg timestamp="20230928 13:19:12.247" level="INFO">POST Request : url=http://localhost:5000/auth/login 
 path_url=/auth/login 
 headers={'User-Agent': 'python-requests/2.25.1', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '51', 'Content-Type': 'application/json'} 
 body=b'{"username": "email@correto.com", "password": null}' 
 </msg>
<msg timestamp="20230928 13:19:12.247" level="INFO">POST Response : url=http://localhost:5000/auth/login 
 status=400, reason=BAD REQUEST 
 headers={'Server': 'Werkzeug/2.3.7 Python/3.10.12', 'Date': 'Thu, 28 Sep 2023 16:19:12 GMT', 'Content-Type': 'application/json', 'Content-Length': '74', 'Connection': 'close'} 
 body={
  "message": "login failed",
  "name": "error",
  "statusCode": "400"
}
 
 </msg>
<msg timestamp="20230928 13:19:12.248" level="INFO">${RESPONSE} = &lt;Response [400]&gt;</msg>
<status status="PASS" starttime="20230928 13:19:12.244" endtime="20230928 13:19:12.248"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${Body}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 13:19:12.248" level="INFO">{'username': 'email@correto.com', 'password': None}</msg>
<status status="PASS" starttime="20230928 13:19:12.248" endtime="20230928 13:19:12.248"/>
</kw>
<return>
<value>${RESPONSE}</value>
<status status="PASS" starttime="20230928 13:19:12.248" endtime="20230928 13:19:12.248"/>
</return>
<msg timestamp="20230928 13:19:12.248" level="INFO">${RESPONSE} = &lt;Response [400]&gt;</msg>
<status status="PASS" starttime="20230928 13:19:12.242" endtime="20230928 13:19:12.248"/>
</kw>
<status status="PASS" starttime="20230928 13:19:12.242" endtime="20230928 13:19:12.248"/>
</branch>
<branch type="ELSE">
<kw name="Login e Verificar credendiais em branco" library="login_keywords">
<var>${RESPONSE}</var>
<arg>${None}</arg>
<arg>${None}</arg>
<status status="NOT RUN" starttime="20230928 13:19:12.249" endtime="20230928 13:19:12.249"/>
</kw>
<status status="NOT RUN" starttime="20230928 13:19:12.248" endtime="20230928 13:19:12.249"/>
</branch>
<status status="PASS" starttime="20230928 13:19:12.242" endtime="20230928 13:19:12.249"/>
</if>
<kw name="Log" library="BuiltIn">
<arg>Resposta Retornada: ${\n}${RESPONSE.text}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 13:19:12.250" level="INFO">Resposta Retornada: 
{
  "message": "login failed",
  "name": "error",
  "statusCode": "400"
}
</msg>
<status status="PASS" starttime="20230928 13:19:12.249" endtime="20230928 13:19:12.250"/>
</kw>
<return>
<value>${RESPONSE}</value>
<status status="PASS" starttime="20230928 13:19:12.250" endtime="20230928 13:19:12.250"/>
</return>
<status status="PASS" starttime="20230928 13:19:12.241" endtime="20230928 13:19:12.250"/>
</kw>
<kw name="ENTÃO o SALE deve enviar um JSON de resposta contendo um código de erro" library="login_keywords">
<arg>senha</arg>
<arg>branco</arg>
<if>
<branch type="IF" condition="$tipo == &quot;incorreto&quot;">
<kw name="QUANDO o sistema verificar que o/a ${campo} está incorreto/a" library="login_keywords" sourcename="QUANDO o sistema verificar que o/a ${campo} está incorreto/a">
<var>${RESPONSE}</var>
<status status="NOT RUN" starttime="20230928 13:19:12.251" endtime="20230928 13:19:12.251"/>
</kw>
<status status="NOT RUN" starttime="20230928 13:19:12.250" endtime="20230928 13:19:12.251"/>
</branch>
<branch type="ELSE IF" condition="$tipo == &quot;branco&quot;">
<kw name="QUANDO o sistema verificar que o/a ${campo} está em branco" library="login_keywords" sourcename="QUANDO o sistema verificar que o/a ${campo} está em branco">
<var>${RESPONSE}</var>
<if>
<branch type="IF" condition="$campo == &quot;email&quot;">
<kw name="Login e Verificar credendiais em branco" library="login_keywords">
<var>${RESPONSE}</var>
<arg>${None}</arg>
<arg>senha_qualquer</arg>
<status status="NOT RUN" starttime="20230928 13:19:12.253" endtime="20230928 13:19:12.253"/>
</kw>
<status status="NOT RUN" starttime="20230928 13:19:12.253" endtime="20230928 13:19:12.253"/>
</branch>
<branch type="ELSE IF" condition="$campo == &quot;senha&quot;">
<kw name="Login e Verificar credendiais em branco" library="login_keywords">
<var>${RESPONSE}</var>
<arg>email@correto.com</arg>
<arg>${None}</arg>
<kw name="Create Dictionary" library="BuiltIn">
<var>${Body}</var>
<arg>username=${username}</arg>
<arg>password=${password}</arg>
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<msg timestamp="20230928 13:19:12.254" level="INFO">${Body} = {'username': 'email@correto.com', 'password': None}</msg>
<status status="PASS" starttime="20230928 13:19:12.254" endtime="20230928 13:19:12.254"/>
</kw>
<kw name="Create Session" library="RequestsLibrary">
<arg>alias=${alias}</arg>
<arg>url=${localhost}:${porta}</arg>
<doc>Create Session: create a HTTP session to a server</doc>
<msg timestamp="20230928 13:19:12.255" level="INFO">Creating Session using : alias=sale_api, url=http://localhost:5000, headers={},                     cookies={}, auth=None, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<status status="PASS" starttime="20230928 13:19:12.255" endtime="20230928 13:19:12.255"/>
</kw>
<kw name="POST On Session" library="RequestsLibrary">
<var>${RESPONSE}</var>
<arg>alias=${alias}</arg>
<arg>url=/auth/login</arg>
<arg>json=${Body}</arg>
<arg>expected_status=400</arg>
<doc>Sends a POST request on a previously created HTTP Session.</doc>
<msg timestamp="20230928 13:19:12.259" level="INFO">POST Request : url=http://localhost:5000/auth/login 
 path_url=/auth/login 
 headers={'User-Agent': 'python-requests/2.25.1', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '51', 'Content-Type': 'application/json'} 
 body=b'{"username": "email@correto.com", "password": null}' 
 </msg>
<msg timestamp="20230928 13:19:12.259" level="INFO">POST Response : url=http://localhost:5000/auth/login 
 status=400, reason=BAD REQUEST 
 headers={'Server': 'Werkzeug/2.3.7 Python/3.10.12', 'Date': 'Thu, 28 Sep 2023 16:19:12 GMT', 'Content-Type': 'application/json', 'Content-Length': '74', 'Connection': 'close'} 
 body={
  "message": "login failed",
  "name": "error",
  "statusCode": "400"
}
 
 </msg>
<msg timestamp="20230928 13:19:12.259" level="INFO">${RESPONSE} = &lt;Response [400]&gt;</msg>
<status status="PASS" starttime="20230928 13:19:12.255" endtime="20230928 13:19:12.259"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${Body}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 13:19:12.260" level="INFO">{'username': 'email@correto.com', 'password': None}</msg>
<status status="PASS" starttime="20230928 13:19:12.259" endtime="20230928 13:19:12.260"/>
</kw>
<return>
<value>${RESPONSE}</value>
<status status="PASS" starttime="20230928 13:19:12.260" endtime="20230928 13:19:12.260"/>
</return>
<msg timestamp="20230928 13:19:12.260" level="INFO">${RESPONSE} = &lt;Response [400]&gt;</msg>
<status status="PASS" starttime="20230928 13:19:12.254" endtime="20230928 13:19:12.260"/>
</kw>
<status status="PASS" starttime="20230928 13:19:12.253" endtime="20230928 13:19:12.260"/>
</branch>
<branch type="ELSE">
<kw name="Login e Verificar credendiais em branco" library="login_keywords">
<var>${RESPONSE}</var>
<arg>${None}</arg>
<arg>${None}</arg>
<status status="NOT RUN" starttime="20230928 13:19:12.260" endtime="20230928 13:19:12.260"/>
</kw>
<status status="NOT RUN" starttime="20230928 13:19:12.260" endtime="20230928 13:19:12.260"/>
</branch>
<status status="PASS" starttime="20230928 13:19:12.253" endtime="20230928 13:19:12.260"/>
</if>
<kw name="Log" library="BuiltIn">
<arg>Resposta Retornada: ${\n}${RESPONSE.text}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 13:19:12.261" level="INFO">Resposta Retornada: 
{
  "message": "login failed",
  "name": "error",
  "statusCode": "400"
}
</msg>
<status status="PASS" starttime="20230928 13:19:12.260" endtime="20230928 13:19:12.261"/>
</kw>
<return>
<value>${RESPONSE}</value>
<status status="PASS" starttime="20230928 13:19:12.261" endtime="20230928 13:19:12.261"/>
</return>
<msg timestamp="20230928 13:19:12.261" level="INFO">${RESPONSE} = &lt;Response [400]&gt;</msg>
<status status="PASS" starttime="20230928 13:19:12.253" endtime="20230928 13:19:12.261"/>
</kw>
<status status="PASS" starttime="20230928 13:19:12.251" endtime="20230928 13:19:12.261"/>
</branch>
<status status="PASS" starttime="20230928 13:19:12.250" endtime="20230928 13:19:12.261"/>
</if>
<kw name="Log" library="BuiltIn">
<arg>Resposta Retornada: ${\n}${RESPONSE}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 13:19:12.262" level="INFO">Resposta Retornada: 
&lt;Response [400]&gt;</msg>
<status status="PASS" starttime="20230928 13:19:12.262" endtime="20230928 13:19:12.262"/>
</kw>
<kw name="Dictionary Should Contain Item" library="Collections">
<arg>${RESPONSE.json()}</arg>
<arg>statusCode</arg>
<arg>400</arg>
<doc>An item of ``key`` / ``value`` must be found in a ``dictionary``.</doc>
<status status="PASS" starttime="20230928 13:19:12.262" endtime="20230928 13:19:12.263"/>
</kw>
<kw name="Dictionary Should Contain Item" library="Collections">
<arg>${RESPONSE.json()}</arg>
<arg>message</arg>
<arg>login failed</arg>
<doc>An item of ``key`` / ``value`` must be found in a ``dictionary``.</doc>
<status status="PASS" starttime="20230928 13:19:12.263" endtime="20230928 13:19:12.264"/>
</kw>
<kw name="Dictionary Should Contain Item" library="Collections">
<arg>${RESPONSE.json()}</arg>
<arg>name</arg>
<arg>error</arg>
<doc>An item of ``key`` / ``value`` must be found in a ``dictionary``.</doc>
<status status="PASS" starttime="20230928 13:19:12.264" endtime="20230928 13:19:12.265"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>JSON: ${RESPONSE.json}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 13:19:12.265" level="INFO">JSON: &lt;bound method Response.json of &lt;Response [400]&gt;&gt;</msg>
<status status="PASS" starttime="20230928 13:19:12.265" endtime="20230928 13:19:12.265"/>
</kw>
<status status="PASS" starttime="20230928 13:19:12.250" endtime="20230928 13:19:12.265"/>
</kw>
<tag>[TC-03] Autenticação com credenciais em branco</tag>
<tag>Funcionalidade 01</tag>
<status status="PASS" starttime="20230928 13:19:12.240" endtime="20230928 13:19:12.266"/>
</test>
<test id="s1-t6" name="Cenário 3: Autenticação com email e senha em branco" line="34">
<kw name="DADO que o SALE receba uma requisição POST para autenticação" library="login_keywords">
<kw name="Create Dictionary" library="BuiltIn">
<var>${HEADERS}</var>
<arg>content-type=application-json</arg>
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<msg timestamp="20230928 13:19:12.267" level="INFO">${HEADERS} = {'content-type': 'application-json'}</msg>
<status status="PASS" starttime="20230928 13:19:12.267" endtime="20230928 13:19:12.267"/>
</kw>
<kw name="Create Session" library="RequestsLibrary">
<arg>alias=${alias}</arg>
<arg>url=${localhost}:${porta}</arg>
<doc>Create Session: create a HTTP session to a server</doc>
<msg timestamp="20230928 13:19:12.268" level="INFO">Creating Session using : alias=sale_api, url=http://localhost:5000, headers={},                     cookies={}, auth=None, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<status status="PASS" starttime="20230928 13:19:12.267" endtime="20230928 13:19:12.270"/>
</kw>
<status status="PASS" starttime="20230928 13:19:12.266" endtime="20230928 13:19:12.270"/>
</kw>
<kw name="QUANDO o sistema verificar que o/a senha e email está em branco" library="login_keywords" sourcename="QUANDO o sistema verificar que o/a ${campo} está em branco">
<if>
<branch type="IF" condition="$campo == &quot;email&quot;">
<kw name="Login e Verificar credendiais em branco" library="login_keywords">
<var>${RESPONSE}</var>
<arg>${None}</arg>
<arg>senha_qualquer</arg>
<status status="NOT RUN" starttime="20230928 13:19:12.271" endtime="20230928 13:19:12.271"/>
</kw>
<status status="NOT RUN" starttime="20230928 13:19:12.271" endtime="20230928 13:19:12.271"/>
</branch>
<branch type="ELSE IF" condition="$campo == &quot;senha&quot;">
<kw name="Login e Verificar credendiais em branco" library="login_keywords">
<var>${RESPONSE}</var>
<arg>email@correto.com</arg>
<arg>${None}</arg>
<status status="NOT RUN" starttime="20230928 13:19:12.271" endtime="20230928 13:19:12.271"/>
</kw>
<status status="NOT RUN" starttime="20230928 13:19:12.271" endtime="20230928 13:19:12.271"/>
</branch>
<branch type="ELSE">
<kw name="Login e Verificar credendiais em branco" library="login_keywords">
<var>${RESPONSE}</var>
<arg>${None}</arg>
<arg>${None}</arg>
<kw name="Create Dictionary" library="BuiltIn">
<var>${Body}</var>
<arg>username=${username}</arg>
<arg>password=${password}</arg>
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<msg timestamp="20230928 13:19:12.272" level="INFO">${Body} = {'username': None, 'password': None}</msg>
<status status="PASS" starttime="20230928 13:19:12.272" endtime="20230928 13:19:12.272"/>
</kw>
<kw name="Create Session" library="RequestsLibrary">
<arg>alias=${alias}</arg>
<arg>url=${localhost}:${porta}</arg>
<doc>Create Session: create a HTTP session to a server</doc>
<msg timestamp="20230928 13:19:12.273" level="INFO">Creating Session using : alias=sale_api, url=http://localhost:5000, headers={},                     cookies={}, auth=None, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<status status="PASS" starttime="20230928 13:19:12.272" endtime="20230928 13:19:12.273"/>
</kw>
<kw name="POST On Session" library="RequestsLibrary">
<var>${RESPONSE}</var>
<arg>alias=${alias}</arg>
<arg>url=/auth/login</arg>
<arg>json=${Body}</arg>
<arg>expected_status=400</arg>
<doc>Sends a POST request on a previously created HTTP Session.</doc>
<msg timestamp="20230928 13:19:12.276" level="INFO">POST Request : url=http://localhost:5000/auth/login 
 path_url=/auth/login 
 headers={'User-Agent': 'python-requests/2.25.1', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '36', 'Content-Type': 'application/json'} 
 body=b'{"username": null, "password": null}' 
 </msg>
<msg timestamp="20230928 13:19:12.276" level="INFO">POST Response : url=http://localhost:5000/auth/login 
 status=400, reason=BAD REQUEST 
 headers={'Server': 'Werkzeug/2.3.7 Python/3.10.12', 'Date': 'Thu, 28 Sep 2023 16:19:12 GMT', 'Content-Type': 'application/json', 'Content-Length': '74', 'Connection': 'close'} 
 body={
  "message": "login failed",
  "name": "error",
  "statusCode": "400"
}
 
 </msg>
<msg timestamp="20230928 13:19:12.277" level="INFO">${RESPONSE} = &lt;Response [400]&gt;</msg>
<status status="PASS" starttime="20230928 13:19:12.273" endtime="20230928 13:19:12.277"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${Body}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 13:19:12.277" level="INFO">{'username': None, 'password': None}</msg>
<status status="PASS" starttime="20230928 13:19:12.277" endtime="20230928 13:19:12.277"/>
</kw>
<return>
<value>${RESPONSE}</value>
<status status="PASS" starttime="20230928 13:19:12.277" endtime="20230928 13:19:12.277"/>
</return>
<msg timestamp="20230928 13:19:12.277" level="INFO">${RESPONSE} = &lt;Response [400]&gt;</msg>
<status status="PASS" starttime="20230928 13:19:12.271" endtime="20230928 13:19:12.277"/>
</kw>
<status status="PASS" starttime="20230928 13:19:12.271" endtime="20230928 13:19:12.277"/>
</branch>
<status status="PASS" starttime="20230928 13:19:12.271" endtime="20230928 13:19:12.278"/>
</if>
<kw name="Log" library="BuiltIn">
<arg>Resposta Retornada: ${\n}${RESPONSE.text}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 13:19:12.278" level="INFO">Resposta Retornada: 
{
  "message": "login failed",
  "name": "error",
  "statusCode": "400"
}
</msg>
<status status="PASS" starttime="20230928 13:19:12.278" endtime="20230928 13:19:12.278"/>
</kw>
<return>
<value>${RESPONSE}</value>
<status status="PASS" starttime="20230928 13:19:12.278" endtime="20230928 13:19:12.278"/>
</return>
<status status="PASS" starttime="20230928 13:19:12.270" endtime="20230928 13:19:12.279"/>
</kw>
<kw name="ENTÃO o SALE deve enviar um JSON de resposta contendo um código de erro" library="login_keywords">
<arg>email e senha</arg>
<arg>branco</arg>
<if>
<branch type="IF" condition="$tipo == &quot;incorreto&quot;">
<kw name="QUANDO o sistema verificar que o/a ${campo} está incorreto/a" library="login_keywords" sourcename="QUANDO o sistema verificar que o/a ${campo} está incorreto/a">
<var>${RESPONSE}</var>
<status status="NOT RUN" starttime="20230928 13:19:12.279" endtime="20230928 13:19:12.279"/>
</kw>
<status status="NOT RUN" starttime="20230928 13:19:12.279" endtime="20230928 13:19:12.279"/>
</branch>
<branch type="ELSE IF" condition="$tipo == &quot;branco&quot;">
<kw name="QUANDO o sistema verificar que o/a ${campo} está em branco" library="login_keywords" sourcename="QUANDO o sistema verificar que o/a ${campo} está em branco">
<var>${RESPONSE}</var>
<if>
<branch type="IF" condition="$campo == &quot;email&quot;">
<kw name="Login e Verificar credendiais em branco" library="login_keywords">
<var>${RESPONSE}</var>
<arg>${None}</arg>
<arg>senha_qualquer</arg>
<status status="NOT RUN" starttime="20230928 13:19:12.280" endtime="20230928 13:19:12.281"/>
</kw>
<status status="NOT RUN" starttime="20230928 13:19:12.280" endtime="20230928 13:19:12.281"/>
</branch>
<branch type="ELSE IF" condition="$campo == &quot;senha&quot;">
<kw name="Login e Verificar credendiais em branco" library="login_keywords">
<var>${RESPONSE}</var>
<arg>email@correto.com</arg>
<arg>${None}</arg>
<status status="NOT RUN" starttime="20230928 13:19:12.281" endtime="20230928 13:19:12.281"/>
</kw>
<status status="NOT RUN" starttime="20230928 13:19:12.281" endtime="20230928 13:19:12.281"/>
</branch>
<branch type="ELSE">
<kw name="Login e Verificar credendiais em branco" library="login_keywords">
<var>${RESPONSE}</var>
<arg>${None}</arg>
<arg>${None}</arg>
<kw name="Create Dictionary" library="BuiltIn">
<var>${Body}</var>
<arg>username=${username}</arg>
<arg>password=${password}</arg>
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<msg timestamp="20230928 13:19:12.282" level="INFO">${Body} = {'username': None, 'password': None}</msg>
<status status="PASS" starttime="20230928 13:19:12.282" endtime="20230928 13:19:12.282"/>
</kw>
<kw name="Create Session" library="RequestsLibrary">
<arg>alias=${alias}</arg>
<arg>url=${localhost}:${porta}</arg>
<doc>Create Session: create a HTTP session to a server</doc>
<msg timestamp="20230928 13:19:12.283" level="INFO">Creating Session using : alias=sale_api, url=http://localhost:5000, headers={},                     cookies={}, auth=None, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<status status="PASS" starttime="20230928 13:19:12.282" endtime="20230928 13:19:12.283"/>
</kw>
<kw name="POST On Session" library="RequestsLibrary">
<var>${RESPONSE}</var>
<arg>alias=${alias}</arg>
<arg>url=/auth/login</arg>
<arg>json=${Body}</arg>
<arg>expected_status=400</arg>
<doc>Sends a POST request on a previously created HTTP Session.</doc>
<msg timestamp="20230928 13:19:12.288" level="INFO">POST Request : url=http://localhost:5000/auth/login 
 path_url=/auth/login 
 headers={'User-Agent': 'python-requests/2.25.1', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '36', 'Content-Type': 'application/json'} 
 body=b'{"username": null, "password": null}' 
 </msg>
<msg timestamp="20230928 13:19:12.288" level="INFO">POST Response : url=http://localhost:5000/auth/login 
 status=400, reason=BAD REQUEST 
 headers={'Server': 'Werkzeug/2.3.7 Python/3.10.12', 'Date': 'Thu, 28 Sep 2023 16:19:12 GMT', 'Content-Type': 'application/json', 'Content-Length': '74', 'Connection': 'close'} 
 body={
  "message": "login failed",
  "name": "error",
  "statusCode": "400"
}
 
 </msg>
<msg timestamp="20230928 13:19:12.288" level="INFO">${RESPONSE} = &lt;Response [400]&gt;</msg>
<status status="PASS" starttime="20230928 13:19:12.283" endtime="20230928 13:19:12.288"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${Body}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 13:19:12.289" level="INFO">{'username': None, 'password': None}</msg>
<status status="PASS" starttime="20230928 13:19:12.288" endtime="20230928 13:19:12.289"/>
</kw>
<return>
<value>${RESPONSE}</value>
<status status="PASS" starttime="20230928 13:19:12.289" endtime="20230928 13:19:12.289"/>
</return>
<msg timestamp="20230928 13:19:12.289" level="INFO">${RESPONSE} = &lt;Response [400]&gt;</msg>
<status status="PASS" starttime="20230928 13:19:12.281" endtime="20230928 13:19:12.289"/>
</kw>
<status status="PASS" starttime="20230928 13:19:12.281" endtime="20230928 13:19:12.289"/>
</branch>
<status status="PASS" starttime="20230928 13:19:12.280" endtime="20230928 13:19:12.289"/>
</if>
<kw name="Log" library="BuiltIn">
<arg>Resposta Retornada: ${\n}${RESPONSE.text}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 13:19:12.290" level="INFO">Resposta Retornada: 
{
  "message": "login failed",
  "name": "error",
  "statusCode": "400"
}
</msg>
<status status="PASS" starttime="20230928 13:19:12.289" endtime="20230928 13:19:12.290"/>
</kw>
<return>
<value>${RESPONSE}</value>
<status status="PASS" starttime="20230928 13:19:12.290" endtime="20230928 13:19:12.290"/>
</return>
<msg timestamp="20230928 13:19:12.291" level="INFO">${RESPONSE} = &lt;Response [400]&gt;</msg>
<status status="PASS" starttime="20230928 13:19:12.280" endtime="20230928 13:19:12.291"/>
</kw>
<status status="PASS" starttime="20230928 13:19:12.279" endtime="20230928 13:19:12.291"/>
</branch>
<status status="PASS" starttime="20230928 13:19:12.279" endtime="20230928 13:19:12.291"/>
</if>
<kw name="Log" library="BuiltIn">
<arg>Resposta Retornada: ${\n}${RESPONSE}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 13:19:12.291" level="INFO">Resposta Retornada: 
&lt;Response [400]&gt;</msg>
<status status="PASS" starttime="20230928 13:19:12.291" endtime="20230928 13:19:12.291"/>
</kw>
<kw name="Dictionary Should Contain Item" library="Collections">
<arg>${RESPONSE.json()}</arg>
<arg>statusCode</arg>
<arg>400</arg>
<doc>An item of ``key`` / ``value`` must be found in a ``dictionary``.</doc>
<status status="PASS" starttime="20230928 13:19:12.291" endtime="20230928 13:19:12.292"/>
</kw>
<kw name="Dictionary Should Contain Item" library="Collections">
<arg>${RESPONSE.json()}</arg>
<arg>message</arg>
<arg>login failed</arg>
<doc>An item of ``key`` / ``value`` must be found in a ``dictionary``.</doc>
<status status="PASS" starttime="20230928 13:19:12.292" endtime="20230928 13:19:12.293"/>
</kw>
<kw name="Dictionary Should Contain Item" library="Collections">
<arg>${RESPONSE.json()}</arg>
<arg>name</arg>
<arg>error</arg>
<doc>An item of ``key`` / ``value`` must be found in a ``dictionary``.</doc>
<status status="PASS" starttime="20230928 13:19:12.293" endtime="20230928 13:19:12.293"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>JSON: ${RESPONSE.json}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230928 13:19:12.294" level="INFO">JSON: &lt;bound method Response.json of &lt;Response [400]&gt;&gt;</msg>
<status status="PASS" starttime="20230928 13:19:12.293" endtime="20230928 13:19:12.294"/>
</kw>
<status status="PASS" starttime="20230928 13:19:12.279" endtime="20230928 13:19:12.294"/>
</kw>
<tag>[TC-03] Autenticação com credenciais em branco</tag>
<tag>Funcionalidade 01</tag>
<status status="PASS" starttime="20230928 13:19:12.266" endtime="20230928 13:19:12.294"/>
</test>
<status status="PASS" starttime="20230928 13:19:12.037" endtime="20230928 13:19:12.295"/>
</suite>
<statistics>
<total>
<stat pass="6" fail="0" skip="0">All Tests</stat>
</total>
<tag>
<stat pass="1" fail="0" skip="0">[TC-01] Autenticação com credenciais corretas</stat>
<stat pass="2" fail="0" skip="0">[TC-02] Autenticação com credenciais incorretas</stat>
<stat pass="3" fail="0" skip="0">[TC-03] Autenticação com credenciais em branco</stat>
<stat pass="6" fail="0" skip="0">Funcionalidade 01</stat>
</tag>
<suite>
<stat pass="6" fail="0" skip="0" id="s1" name="Login Test">Login Test</stat>
</suite>
</statistics>
<errors>
</errors>
</robot>
